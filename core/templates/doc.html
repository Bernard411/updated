{% load static %}
{% include 'header.html' %}

<section class="home" id="home">
 
    
  </section>
  
<section class="book" id="book">
  
    <div class="row">
      <div class="image">
        <img src="{% static 'img/home-img.svg' %}" alt="" />
      </div>

     
      
       
  <!DOCTYPE html>
  <html lang="en">
  <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>AI Doctor</title>
      <style>
          body {
              font-family: Arial, sans-serif;
              background-color: #f4f4f4;
              margin: 0;
              padding: 0;
          }
  
          .container {
              max-width: 800px;
              margin: 50px auto;
              padding: 20px;
              background-color: #fff;
              box-shadow: 0 0 10px rgba(0,0,0,0.1);
              border-radius: 8px;
          }
  
          h1 {
              text-align: center;
          }
  
       
          label {
              margin-bottom: 8px;
          }
  
          input[type="text"] {
              padding: 10px;
              margin-bottom: 20px;
              border: 1px solid #ccc;
              border-radius: 4px;
              width: 60%;
              max-width: 400px;
          }
  
          button {
              padding: 10px 20px;
              background-color: #28a745;
              color: #fff;
              border: none;
              border-radius: 4px;
              cursor: pointer;
              transition: background-color 0.3s ease;
          }
  
          button:hover {
              background-color: #218838;
          }
  
          #diagnosis {
              margin-top: 20px;
          }
  
          .diagnosis-card {
              border: 1px solid #ccc;
              border-radius: 8px;
              margin-bottom: 20px;
              padding: 20px;
          }
  
          .diagnosis-card h2 {
              margin-top: 0;
              font-size: 1.5rem;
          }
  
          .diagnosis-card h3 {
              font-size: 1.2rem;
              margin-bottom: 10px;
          }
  
          .diagnosis-card ul {
              margin-bottom: 10px;
          }
  
          .recommendations {
              padding-left: 20px;
          }
          /* Normal Usage */
.spinner:before {
  transform: rotateX(60deg) rotateY(45deg) rotateZ(45deg);
  animation: 750ms rotateBefore infinite linear reverse;
}

.spinner:after {
  transform: rotateX(240deg) rotateY(45deg) rotateZ(45deg);
  animation: 750ms rotateAfter infinite linear;
}

.spinner:before,
.spinner:after {
  box-sizing: border-box;
  content: '';
  display: block;
  position: absolute;
  margin-top: -5em;
  margin-left: -5em;
  width: 10em;
  height: 10em;
  transform-style: preserve-3d;
  transform-origin: 50%;
  transform: rotateY(50%);
  perspective-origin: 50% 50%;
  perspective: 340px;
  background-size: 10em 10em;
  background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjI2NnB4IiBoZWlnaHQ9IjI5N3B4IiB2aWV3Qm94PSIwIDAgMjY2IDI5NyIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bWxuczpza2V0Y2g9Imh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaC9ucyI+CiAgICA8dGl0bGU+c3Bpbm5lcjwvdGl0bGU+CiAgICA8ZGVzY3JpcHRpb24+Q3JlYXRlZCB3aXRoIFNrZXRjaCAoaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoKTwvZGVzY3JpcHRpb24+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBza2V0Y2g6dHlwZT0iTVNQYWdlIj4KICAgICAgICA8cGF0aCBkPSJNMTcxLjUwNzgxMywzLjI1MDAwMDM4IEMyMjYuMjA4MTgzLDEyLjg1NzcxMTEgMjk3LjExMjcyMiw3MS40OTEyODIzIDI1MC44OTU1OTksMTA4LjQxMDE1NSBDMjE2LjU4MjAyNCwxMzUuODIwMzEgMTg2LjUyODQwNSw5Ny4wNjI0OTY0IDE1Ni44MDA3NzQsODUuNzczNDM0NiBDMTI3LjA3MzE0Myw3NC40ODQzNzIxIDc2Ljg4ODQ2MzIsODQuMjE2MTQ2MiA2MC4xMjg5MDY1LDEwOC40MTAxNTMgQy0xNS45ODA0Njg1LDIxOC4yODEyNDcgMTQ1LjI3NzM0NCwyOTYuNjY3OTY4IDE0NS4yNzczNDQsMjk2LjY2Nzk2OCBDMTQ1LjI3NzM0NCwyOTYuNjY3OTY4IC0yNS40NDkyMTg3LDI1Ny4yNDIxOTggMy4zOTg0Mzc1LDEwOC40MTAxNTUgQzE2LjMwNzA2NjEsNDEuODExNDE3NCA4NC43Mjc1ODI5LC0xMS45OTIyOTg1IDE3MS41MDc4MTMsMy4yNTAwMDAzOCBaIiBpZD0iUGF0aC0xIiBmaWxsPSIjMDAwMDAwIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj48L3BhdGg+CiAgICA8L2c+Cjwvc3ZnPg==);
}
/* sitNSpin.less */
@keyframes rotateBefore {
  from {
    transform: rotateX(60deg) rotateY(45deg) rotateZ(0deg);
  }

  to {
    transform: rotateX(60deg) rotateY(45deg) rotateZ(-360deg);
  }
}

@keyframes rotateAfter {
  from {
    transform: rotateX(240deg) rotateY(45deg) rotateZ(0deg);
  }

  to {
    transform: rotateX(240deg) rotateY(45deg) rotateZ(360deg);
  }
}
.btn {
  border: none;
  width: 100%;
  height: 50%;
  border-radius: 3em;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 12px;
  background: #1C1A1C;
  cursor: pointer;
  transition: all 450ms ease-in-out;
}

.sparkle {
  fill: #AAAAAA;
  transition: all 800ms ease;
}

.text {
  font-weight: 600;
  color: #AAAAAA;
  font-size: medium;
}

.btn:hover {
  background: linear-gradient(0deg,#A47CF3,#683FEA);
  box-shadow: inset 0px 1px 0px 0px rgba(255, 255, 255, 0.4),
  inset 0px -4px 0px 0px rgba(0, 0, 0, 0.2),
  0px 0px 0px 4px rgba(255, 255, 255, 0.2),
  0px 0px 180px 0px #9917FF;
  transform: translateY(-2px);
}

.btn:hover .text {
  color: white;
}

.btn:hover .sparkle {
  fill: white;
  transform: scale(1.2);
} 
      </style>
  </head>
  <body>
      <div class="container">
      
          <h1>AI Doctor</h1>
          <form id="symptom-form">
            
              <label for="symptoms">Enter your symptoms (comma-separated):</label>
              <input type="text" id="symptoms" name="symptoms" required>
              <button class="btn" type="submit">
                <svg height="24" width="24" fill="#FFFFFF" viewBox="0 0 24 24" data-name="Layer 1" id="Layer_1" class="sparkle">
                    <path d="M10,21.236,6.755,14.745.264,11.5,6.755,8.255,10,1.764l3.245,6.491L19.736,11.5l-6.491,3.245ZM18,21l1.5,3L21,21l3-1.5L21,18l-1.5-3L18,18l-3,1.5ZM19.333,4.667,20.5,7l1.167-2.333L24,3.5,21.667,2.333,20.5,0,19.333,2.333,17,3.5Z"></path>
                </svg>
            
                <span class="text">Generate</span>
            </button>
              <br>
             
          </form>
          <div id="diagnosis"></div>
      </div>
      <script>
          // Load diseases data from external JSON file
          fetch('{% static 'datasets.json' %}')
              .then(response => response.json())
              .then(data => {
                  const diseases = data.diseases;
  
                  document.getElementById('symptom-form').addEventListener('submit', function(e) {
                      e.preventDefault();
                      const symptomsInput = document.getElementById('symptoms').value.toLowerCase();
                      const symptoms = symptomsInput.split(',').map(symptom => symptom.trim());
  
                      const diagnosis = getDiagnosis(symptoms, diseases);
                      displayDiagnosis(diagnosis);
                  });
  
                  function getDiagnosis(symptoms, diseases) {
                      const matchedDisease = diseases.find(disease => {
                          return symptoms.every(symptom => disease.symptoms.includes(symptom));
                      });
  
                      return matchedDisease;
                  }
  
                  function displayDiagnosis(diagnosis) {
                      const diagnosisDiv = document.getElementById('diagnosis');
                      diagnosisDiv.innerHTML = '';
  
                      if (!diagnosis) {
                          const noDiagnosisMsg = document.createElement('p');
                          noDiagnosisMsg.textContent = 'No diagnosis found.';
                          diagnosisDiv.appendChild(noDiagnosisMsg);
                          return;
                      }
  
                      const { name, medicines, recommendations, details } = diagnosis;
  
                      const diagnosisCard = document.createElement('div');
                      diagnosisCard.classList.add('diagnosis-card');
  
                      const htmlContent = `
                          <h2>${name}</h2>
                          <div>
                              <h3>Symptoms:</h3>
                              <ul>
                                  ${diagnosis.symptoms.map(symptom => `<li>${symptom}</li>`).join('')}
                              </ul>
                          </div>
                          <div>
                              <h3>Description:</h3>
                              <p>${details.description}</p>
                          </div>
                          <div>
                              <h3>Treatment:</h3>
                              <ul>
                                  ${medicines.map(medicine => `<li>${medicine}</li>`).join('')}
                              </ul>
                          </div>
                          <div>
                              <h3>Recommendations:</h3>
                              <ul class="recommendations">
                                  ${recommendations.map(recommendation => `<li>${recommendation}</li>`).join('')}
                              </ul>
                          </div>
                          <div>
                              <h3>Causes:</h3>
                              <p>${details.causes}</p>
                          </div>
                          <div>
                              <h3>Prevention:</h3>
                              <p>${details.prevention}</p>
                          </div>
                      `;
  
                      diagnosisCard.innerHTML = htmlContent;
                      diagnosisDiv.appendChild(diagnosisCard);
                  }
              })
              .catch(error => {
                  console.error('Error fetching diseases data:', error);
              });
      </script>
  </body>
  </html>
      </form>
    </div>
    {% include 'float.html' %}
  </section>

  

<script src="{% static 'js/script.js' %}"></script>